{"version":3,"sources":["../node_modules/ms/index.js","../node_modules/lz-string/libs/lz-string.js","../src/locally.ts"],"sourcesContent":["/**\n * Helpers.\n */\n\nvar s = 1000\nvar m = s * 60\nvar h = m * 60\nvar d = h * 24\nvar y = d * 365.25\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {}\n  var type = typeof val\n  if (type === 'string' && val.length > 0) {\n    return parse(val)\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ?\n\t\t\tfmtLong(val) :\n\t\t\tfmtShort(val)\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\n}\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str)\n  if (str.length > 10000) {\n    return\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\n  if (!match) {\n    return\n  }\n  var n = parseFloat(match[1])\n  var type = (match[2] || 'ms').toLowerCase()\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n\n    default:\n      return undefined\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd'\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h'\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm'\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's'\n  }\n  return ms + 'ms'\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms'\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's'\n}\n","// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>\n// This work is free. You can redistribute it and/or modify it\n// under the terms of the WTFPL, Version 2\n// For more information see LICENSE.txt or http://www.wtfpl.net/\n//\n// For more information, the home page:\n// http://pieroxy.net/blog/pages/lz-string/testing.html\n//\n// LZ-based compression algorithm, version 1.4.5\nvar LZString = (function() {\n\n// private property\nvar f = String.fromCharCode;\nvar keyStrBase64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar keyStrUriSafe = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\nvar baseReverseDic = {};\n\nfunction getBaseValue(alphabet, character) {\n  if (!baseReverseDic[alphabet]) {\n    baseReverseDic[alphabet] = {};\n    for (var i=0 ; i<alphabet.length ; i++) {\n      baseReverseDic[alphabet][alphabet.charAt(i)] = i;\n    }\n  }\n  return baseReverseDic[alphabet][character];\n}\n\nvar LZString = {\n  compressToBase64 : function (input) {\n    if (input == null) return \"\";\n    var res = LZString._compress(input, 6, function(a){return keyStrBase64.charAt(a);});\n    switch (res.length % 4) { // To produce valid Base64\n    default: // When could this happen ?\n    case 0 : return res;\n    case 1 : return res+\"===\";\n    case 2 : return res+\"==\";\n    case 3 : return res+\"=\";\n    }\n  },\n\n  decompressFromBase64 : function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrBase64, input.charAt(index)); });\n  },\n\n  compressToUTF16 : function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 15, function(a){return f(a+32);}) + \" \";\n  },\n\n  decompressFromUTF16: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 16384, function(index) { return compressed.charCodeAt(index) - 32; });\n  },\n\n  //compress into uint8array (UCS-2 big endian format)\n  compressToUint8Array: function (uncompressed) {\n    var compressed = LZString.compress(uncompressed);\n    var buf=new Uint8Array(compressed.length*2); // 2 bytes per character\n\n    for (var i=0, TotalLen=compressed.length; i<TotalLen; i++) {\n      var current_value = compressed.charCodeAt(i);\n      buf[i*2] = current_value >>> 8;\n      buf[i*2+1] = current_value % 256;\n    }\n    return buf;\n  },\n\n  //decompress from uint8array (UCS-2 big endian format)\n  decompressFromUint8Array:function (compressed) {\n    if (compressed===null || compressed===undefined){\n        return LZString.decompress(compressed);\n    } else {\n        var buf=new Array(compressed.length/2); // 2 bytes per character\n        for (var i=0, TotalLen=buf.length; i<TotalLen; i++) {\n          buf[i]=compressed[i*2]*256+compressed[i*2+1];\n        }\n\n        var result = [];\n        buf.forEach(function (c) {\n          result.push(f(c));\n        });\n        return LZString.decompress(result.join(''));\n\n    }\n\n  },\n\n\n  //compress into a string that is already URI encoded\n  compressToEncodedURIComponent: function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 6, function(a){return keyStrUriSafe.charAt(a);});\n  },\n\n  //decompress from an output of compressToEncodedURIComponent\n  decompressFromEncodedURIComponent:function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    input = input.replace(/ /g, \"+\");\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrUriSafe, input.charAt(index)); });\n  },\n\n  compress: function (uncompressed) {\n    return LZString._compress(uncompressed, 16, function(a){return f(a);});\n  },\n  _compress: function (uncompressed, bitsPerChar, getCharFromInt) {\n    if (uncompressed == null) return \"\";\n    var i, value,\n        context_dictionary= {},\n        context_dictionaryToCreate= {},\n        context_c=\"\",\n        context_wc=\"\",\n        context_w=\"\",\n        context_enlargeIn= 2, // Compensate for the first entry which should not count\n        context_dictSize= 3,\n        context_numBits= 2,\n        context_data=[],\n        context_data_val=0,\n        context_data_position=0,\n        ii;\n\n    for (ii = 0; ii < uncompressed.length; ii += 1) {\n      context_c = uncompressed.charAt(ii);\n      if (!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)) {\n        context_dictionary[context_c] = context_dictSize++;\n        context_dictionaryToCreate[context_c] = true;\n      }\n\n      context_wc = context_w + context_c;\n      if (Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)) {\n        context_w = context_wc;\n      } else {\n        if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n          if (context_w.charCodeAt(0)<256) {\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<8 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          } else {\n            value = 1;\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1) | value;\n              if (context_data_position ==bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = 0;\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<16 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          }\n          context_enlargeIn--;\n          if (context_enlargeIn == 0) {\n            context_enlargeIn = Math.pow(2, context_numBits);\n            context_numBits++;\n          }\n          delete context_dictionaryToCreate[context_w];\n        } else {\n          value = context_dictionary[context_w];\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n\n\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        // Add wc to the dictionary.\n        context_dictionary[context_wc] = context_dictSize++;\n        context_w = String(context_c);\n      }\n    }\n\n    // Output the code for w.\n    if (context_w !== \"\") {\n      if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n        if (context_w.charCodeAt(0)<256) {\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<8 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        } else {\n          value = 1;\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | value;\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = 0;\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<16 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        delete context_dictionaryToCreate[context_w];\n      } else {\n        value = context_dictionary[context_w];\n        for (i=0 ; i<context_numBits ; i++) {\n          context_data_val = (context_data_val << 1) | (value&1);\n          if (context_data_position == bitsPerChar-1) {\n            context_data_position = 0;\n            context_data.push(getCharFromInt(context_data_val));\n            context_data_val = 0;\n          } else {\n            context_data_position++;\n          }\n          value = value >> 1;\n        }\n\n\n      }\n      context_enlargeIn--;\n      if (context_enlargeIn == 0) {\n        context_enlargeIn = Math.pow(2, context_numBits);\n        context_numBits++;\n      }\n    }\n\n    // Mark the end of the stream\n    value = 2;\n    for (i=0 ; i<context_numBits ; i++) {\n      context_data_val = (context_data_val << 1) | (value&1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data_position = 0;\n        context_data.push(getCharFromInt(context_data_val));\n        context_data_val = 0;\n      } else {\n        context_data_position++;\n      }\n      value = value >> 1;\n    }\n\n    // Flush the last char\n    while (true) {\n      context_data_val = (context_data_val << 1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data.push(getCharFromInt(context_data_val));\n        break;\n      }\n      else context_data_position++;\n    }\n    return context_data.join('');\n  },\n\n  decompress: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 32768, function(index) { return compressed.charCodeAt(index); });\n  },\n\n  _decompress: function (length, resetValue, getNextValue) {\n    var dictionary = [],\n        next,\n        enlargeIn = 4,\n        dictSize = 4,\n        numBits = 3,\n        entry = \"\",\n        result = [],\n        i,\n        w,\n        bits, resb, maxpower, power,\n        c,\n        data = {val:getNextValue(0), position:resetValue, index:1};\n\n    for (i = 0; i < 3; i += 1) {\n      dictionary[i] = i;\n    }\n\n    bits = 0;\n    maxpower = Math.pow(2,2);\n    power=1;\n    while (power!=maxpower) {\n      resb = data.val & data.position;\n      data.position >>= 1;\n      if (data.position == 0) {\n        data.position = resetValue;\n        data.val = getNextValue(data.index++);\n      }\n      bits |= (resb>0 ? 1 : 0) * power;\n      power <<= 1;\n    }\n\n    switch (next = bits) {\n      case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 2:\n        return \"\";\n    }\n    dictionary[3] = c;\n    w = c;\n    result.push(c);\n    while (true) {\n      if (data.index > length) {\n        return \"\";\n      }\n\n      bits = 0;\n      maxpower = Math.pow(2,numBits);\n      power=1;\n      while (power!=maxpower) {\n        resb = data.val & data.position;\n        data.position >>= 1;\n        if (data.position == 0) {\n          data.position = resetValue;\n          data.val = getNextValue(data.index++);\n        }\n        bits |= (resb>0 ? 1 : 0) * power;\n        power <<= 1;\n      }\n\n      switch (c = bits) {\n        case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 2:\n          return result.join('');\n      }\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n      if (dictionary[c]) {\n        entry = dictionary[c];\n      } else {\n        if (c === dictSize) {\n          entry = w + w.charAt(0);\n        } else {\n          return null;\n        }\n      }\n      result.push(entry);\n\n      // Add w+entry[0] to the dictionary.\n      dictionary[dictSize++] = w + entry.charAt(0);\n      enlargeIn--;\n\n      w = entry;\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n    }\n  }\n};\n  return LZString;\n})();\n\nif (typeof define === 'function' && define.amd) {\n  define(function () { return LZString; });\n} else if( typeof module !== 'undefined' && module != null ) {\n  module.exports = LZString\n} else if( typeof angular !== 'undefined' && angular != null ) {\n  angular.module('LZString', [])\n  .factory('LZString', function () {\n    return LZString;\n  });\n}\n","import ms from 'ms';\nimport * as lzstring from 'lz-string';\n\ninterface StorageLike {\n  setItem(id: string, val: string): string;\n  getItem(id: string): string | undefined | null;\n  removeItem(id: string): void;\n  key(index: number): string | null;\n  clear(): void;\n  length: number;\n}\n\ninterface MemoryStorage extends StorageLike {\n  _data: Record<string, string>;\n}\n\ninterface KeyConfig {\n  t?: string;\n  c?: number;\n  ttl?: number;\n}\n\ninterface Config {\n  [key: string]: KeyConfig | undefined;\n}\n\ninterface SetOptions {\n  ttl?: number | string;\n  compress?: boolean;\n}\n\ninterface TypeResult {\n  value: string | number;\n  type: string;\n}\n\ninterface LocallyOptions {\n  compress?: boolean;\n}\n\nlet ls: StorageLike | null =\n  typeof window !== 'undefined' ? (window as unknown as { localStorage: StorageLike }).localStorage : null;\n\n// Provide an in-memory fallback for older browsers.\nif (!ls) {\n  const memoryStorage: MemoryStorage = {\n    _data: {},\n    setItem: function (id: string, val: string) {\n      return (this._data[id] = String(val));\n    },\n    getItem: function (id: string) {\n      return this._data.hasOwnProperty(id) ? this._data[id] : undefined;\n    },\n    removeItem: function (id: string) {\n      return delete this._data[id];\n    },\n    key: function (index: number) {\n      for (const key in this._data) {\n        if (!(index--)) {\n          return key;\n        }\n      }\n      return null;\n    },\n    clear: function () {\n      return (this._data = {});\n    },\n    get length() {\n      return Object.keys(this._data).length;\n    }\n  };\n  ls = memoryStorage;\n}\n\nconst utils = {\n  each: function <T>(arr: T[], iteratee: (item: T, index: number) => void) {\n    let l = arr.length;\n    while (l--) iteratee(arr[l], l);\n  },\n  map: function <T, U>(arr: T[], iteratee: (item: T, index: number) => U): U[] {\n    const newArr = new Array(arr.length) as U[];\n    let l = arr.length;\n    while (l--) newArr[l] = iteratee(arr[l], l);\n    return newArr;\n  },\n  filter: function <T>(arr: T[], iteratee: (item: T, index: number) => boolean): T[] {\n    const newArr: T[] = [];\n    let l = arr.length;\n    while (l--) {\n      if (iteratee(arr[l], l)) newArr.push(arr[l]);\n    }\n    return newArr;\n  }\n};\n\nlet _keys: string[] = [];\nlet _config: Config = {};\nlet _compressAll = false;\nconst _timeouts: Record<string, ReturnType<typeof setTimeout>> = {};\n\nfunction Locally(this: void, options?: LocallyOptions) {\n  options = options || {};\n  _compressAll = !!options.compress;\n\n  const configStr = ls!.getItem('locally-config');\n\n  if (!configStr) {\n    _config = {};\n    _rebuildConfig();\n  } else {\n    const deconfig = lzstring.decompressFromUTF16(configStr);\n\n    try {\n      _config = JSON.parse(deconfig || configStr);\n    } catch (e) {\n      if (!!deconfig) {\n        try {\n          _config = JSON.parse(configStr);\n        } catch (e2) {\n          throw new Error('Locally: config is corrupted');\n        }\n      } else throw new Error('Locally: config is corrupted');\n    }\n\n    _rebuildConfig();\n  }\n\n  _saveConfig();\n\n  Object.defineProperty(this, 'length', {\n    get: function () {\n      return _keys.length;\n    }\n  });\n}\n\nLocally.prototype.set = function (\n  key: string,\n  value: unknown,\n  options?: SetOptions | number | string\n) {\n  if (arguments.length < 2) throw new Error('Locally: no key or value given');\n\n  let opts: SetOptions = (options as SetOptions) || {};\n\n  if (typeof options !== 'object') {\n    opts = { ttl: options as number | string };\n  }\n\n  if (typeof opts.ttl === 'string') {\n    opts.ttl = (ms as (input: string | number) => number)(opts.ttl);\n  }\n\n  _config[key] = _config[key] || {};\n\n  if (_keys.indexOf(key) === -1) {\n    _keys.push(key);\n  }\n\n  if (opts.ttl && !isNaN(opts.ttl as number)) {\n    _clearTimeout(key);\n    _setTimeout(key, opts.ttl as number);\n  } else if (_config[key]!.ttl) {\n    _clearTimeout(key);\n  }\n\n  const res = _getType(value);\n\n  value = res.value;\n  _config[key]!.t = res.type;\n\n  if (opts.compress || _compressAll) {\n    _config[key]!.c = 1;\n    value = lzstring.compressToUTF16((value as string).toString());\n  }\n\n  const keyStr = String(key);\n  const valueStr = String(value);\n\n  ls!.setItem(keyStr, valueStr);\n  _saveConfig();\n};\n\nLocally.prototype.get = function (key: string | string[]) {\n  return Array.isArray(key)\n    ? utils.map(key, (item) => _get(item as string))\n    : _get(key);\n};\n\nLocally.prototype.keys = function (pattern?: string | RegExp) {\n  if (!pattern || pattern === '*') return _keys.slice(0);\n\n  const regex = !(pattern instanceof RegExp)\n    ? new RegExp('.*' + pattern + '.*')\n    : pattern;\n\n  return utils.filter(_keys, (key) => regex.test(key));\n};\n\nLocally.prototype.remove = function (key: string | string[]) {\n  if (typeof key === 'undefined')\n    throw new Error(\"Locally: 'remove' requires a key\");\n\n  if (Array.isArray(key)) {\n    utils.each(key, _remove);\n  } else {\n    _remove(key);\n  }\n};\n\nLocally.prototype.scan = function (key: string | RegExp, fn: (value: unknown, key: string) => void) {\n  return utils.each(this.keys(key), (keyName: string) => {\n    fn(_get(keyName), keyName);\n  });\n};\n\nLocally.prototype.ttl = function (key: string, returnString?: boolean): number | string {\n  const cfg = _config[key];\n  if (!cfg) return -2;\n  if (!cfg.ttl) return -1;\n  const remaining = cfg.ttl - Date.now();\n  return !returnString ? remaining : (ms as (input: string | number) => string)(remaining);\n};\n\nLocally.prototype.persist = function (key: string) {\n  return _config[key]\n    ? !!(delete _config[key]!.ttl && _saveConfig() && _clearTimeout(key))\n    : false;\n};\n\nLocally.prototype.expire = function (key: string, ttl: number) {\n  return _config[key]\n    ? !!((_config[key]!.ttl = Date.now() + ttl) && _saveConfig())\n    : false;\n};\n\nLocally.prototype.clear = function () {\n  ls!.clear();\n  _config = {};\n  _keys = [];\n  return _saveConfig();\n};\n\nLocally.prototype.key = function (index: number) {\n  return _keys[index];\n};\n\nfunction _remove(key: string) {\n  const i = _keys.indexOf(key);\n  if (i > -1) {\n    ls!.removeItem(key);\n    _keys.splice(_keys.indexOf(key), 1);\n    delete _config[key];\n  }\n}\n\nfunction _saveConfig() {\n  ls!.setItem('locally-config', lzstring.compressToUTF16(JSON.stringify(_config)));\n  return true;\n}\n\nfunction _get(key: string): unknown {\n  if (typeof key === 'undefined' || !_config[key]) return null;\n\n  if (_config[key]!.ttl && _config[key]!.ttl! < Date.now()) {\n    delete _config[key];\n    _saveConfig();\n    _remove(key);\n    return null;\n  }\n\n  let temp: unknown;\n  let value = _config[key]!.c\n    ? lzstring.decompressFromUTF16(ls!.getItem(key) || '')\n    : ls!.getItem(key);\n\n  switch (_config[key]!.t) {\n    case 'o':\n      try {\n        value = JSON.parse(value as string);\n      } catch (e) {}\n      return value;\n\n    case 'd':\n      return new Date(parseInt(value as string, 10));\n\n    case 'r':\n      return new RegExp((value as string).substring(1, (value as string).length - 1));\n\n    case 'f':\n      eval('temp = ' + value);\n      return temp;\n\n    case 'n':\n      return Number(value);\n\n    case 'b':\n      return value === '1';\n\n    case 's':\n    default:\n      if (value === 'null') return null;\n      else if (value === 'undefined') return undefined;\n      else return String(value);\n  }\n}\n\nfunction _getType(value: unknown): TypeResult {\n  let type: string;\n\n  switch (typeof value) {\n    case 'object':\n      if (value instanceof Date) {\n        value = (value as Date).getTime();\n        type = 'd';\n      } else if (value instanceof RegExp) {\n        value = (value as RegExp).toString();\n        type = 'r';\n      } else {\n        value = JSON.stringify(value);\n        type = 'o';\n      }\n      break;\n\n    case 'function':\n      type = 'f';\n      break;\n\n    case 'number':\n      type = 'n';\n      break;\n\n    case 'boolean':\n      value = value ? 1 : 0;\n      type = 'b';\n      break;\n\n    case 'string':\n    default:\n      type = 's';\n  }\n\n  return {\n    value: value as string | number,\n    type\n  };\n}\n\nfunction _rebuildConfig() {\n  const len = ls!.length;\n  _keys = new Array(len);\n\n  let l = len;\n  while (l--) {\n    _keys[l] = ls!.key(l) || '';\n    _config[_keys[l]] = _config[_keys[l]] || {};\n\n    if (_compressAll && !_config[_keys[l]]!.c) {\n      _config[_keys[l]]!.c = 1;\n      ls!.setItem(_keys[l], lzstring.compressToUTF16(ls!.getItem(_keys[l]) || ''));\n    } else if (!_compressAll && _config[_keys[l]]!.c) {\n      delete _config[_keys[l]]!.c;\n      ls!.setItem(_keys[l], lzstring.decompressFromUTF16(ls!.getItem(_keys[l]) || '') || '');\n    }\n\n    if (_config[_keys[l]]!.ttl) {\n      const remaining = _config[_keys[l]]!.ttl! - Date.now();\n      if (remaining <= 0) {\n        _remove(_keys[l]);\n      } else {\n        _setTimeout(_keys[l], remaining);\n      }\n    }\n  }\n\n  const configIndex = _keys.indexOf('locally-config');\n  if (configIndex > -1) {\n    _keys.splice(configIndex, 1);\n  }\n}\n\nfunction _setTimeout(key: string, ttl: number) {\n  _config[key] = _config[key] || {};\n  _config[key]!.ttl = Date.now() + ttl;\n  _timeouts[key] = setTimeout(() => {\n    _remove(key);\n  }, ttl);\n}\n\nfunction _clearTimeout(key: string) {\n  if (_keys.indexOf(key) > -1) {\n    clearTimeout(_timeouts[key]);\n    delete _timeouts[key];\n    delete _config[key]!.ttl;\n    return true;\n  }\n  return false;\n}\n\nexport { Locally as Store };\n"],"mappings":"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","names":["ms","LZString","value","key","value","ms"]}